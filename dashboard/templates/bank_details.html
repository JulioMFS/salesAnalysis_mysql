<!DOCTYPE html>
<html>
<head>
    <title>Bank Transactions Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { font-size: 0.9rem; }
        table { font-size: 0.85rem; margin-bottom: 1rem; }
        th, td { padding: 0.3rem 0.5rem; vertical-align: middle; }
        .text-end { text-align: right; }
        .diff-negative { color: red; font-weight: bold; }
        .diff-positive { color: green; font-weight: bold; }
        .btn-smaller { font-size: 0.8rem; padding: 0.25rem 0.5rem; }
    </style>
</head>
<body class="container mt-4">

<a href="{{ url_for('sales_vs_deposits') }}" class="btn btn-secondary btn-smaller mb-3">‚Üê Back to Sales vs Deposits</a>

<h5>Bank Credits on {{ date }}</h5>

<table class="table table-bordered table-sm">
    <thead class="table-light">
        <tr>
            <th>Description</th>
            <th class="text-end">Credit</th>
            <th class="text-end">Sales</th>
            <th class="text-end">Diff</th>
        </tr>
    </thead>
    <tbody>
    {% for tx in transactions %}
        {% set sales_amt = total_sales if total_sales else 0 %}
        {% set diff = (tx.amount|float) - sales_amt %}
        <tr>
            <td>{{ tx.description }}</td>
            <td class="text-end">{{ "{:,.2f}".format(tx.amount|float) }}</td>
            <td class="text-end">{{ "{:,.2f}".format(sales_amt) }}</td>
            <td class="text-end {{ 'diff-negative' if diff<0 else 'diff-positive' }}">
                {{ "{:,.2f}".format(diff) }}
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

</body>
</html>
